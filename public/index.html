<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <title>⚙️ Event-Driven Demo – Business & Industrie</title>
    <style>
        body {font-family: Arial, sans-serif; background:#f7f7f7; padding:20px; color:#333;}
        h1{text-align:center;margin-bottom:5px;}
        p.subtitle{text-align:center;color:#555;margin-bottom:25px;}
        .container{display:flex;justify-content:space-around;gap:20px;flex-wrap:wrap;}
        .panel{flex:1;min-width:380px;background:#fff;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,0.1);padding:20px;}
        .panel h2{text-align:center;border-bottom:2px solid #ddd;padding-bottom:10px;margin-bottom:15px;}
        .events{font-family:monospace;max-height:300px;overflow-y:auto;}
        .sales{color:#e74c3c;font-weight:bold;}
        .auto{color:#27ae60;}
        .log{font-family:monospace;color:#555;border-left:3px solid #ccc;padding-left:10px;margin-bottom:6px;}
        .pipeline{margin:20px 0;display:flex;justify-content:space-between;align-items:center;font-family:monospace;font-size:14px;}
        .step{background:#eee;border-radius:8px;padding:10px 12px;text-align:center;width:130px;min-height:50px;transition:background .6s,transform .4s;}
        .arrow{font-size:20px;color:#999;}
        .active{background:#4caf50;color:#fff;font-weight:bold;transform:scale(1.05);box-shadow:0 0 12px rgba(0,0,0,0.3);}
        button{display:block;margin:15px auto;padding:10px 20px;font-size:16px;border:none;border-radius:6px;cursor:pointer;color:#fff;}
        #triggerOrderBtn{background:#2196f3;} #triggerOrderBtn:hover{background:#1976d2;}
        #triggerMachineBtn{background:#ff9800;} #triggerMachineBtn:hover{background:#ef6c00;}
        button:disabled{background:#9e9e9e;cursor:not-allowed;}
        .info{max-width:950px;margin:30px auto;background:#fff;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,0.05);padding:20px 30px;line-height:1.5;}
        .box{width:14px;height:14px;border-radius:3px;display:inline-block;}
        .box.sales{background:#e74c3c;} .box.auto{background:#27ae60;}
        footer{text-align:center;color:#777;margin-top:40px;font-size:.9em;}
    </style>
</head>
<body>
<h1>⚙️ Event-Driven Demo – Business & Industrie</h1>
<p class="subtitle">Vergleich: Event-Driven vs. Traditionelle Verarbeitung mit KI-Erweiterung</p>

<!-- Business -->
<div class="info">
    <h3>🛍️ Business Workflow – Bestellungen</h3>
    <p>Unser System reagiert sofort auf eingehende Bestellungen:</p>
    <ul>
        <li><b>Wenn Bestellwert &gt; 1000 €</b> → Vertrieb wird automatisch informiert.</li>
        <li><b>Wenn ≤ 1000 €</b> → automatische Verarbeitung ohne manuelles Eingreifen.</li>
    </ul>
</div>
<button id="triggerOrderBtn">🛒 Neue Bestellung simulieren</button>
<div class="container">
    <div class="panel">
        <h2>🔴 Event-Driven (Live)</h2>
        <div class="pipeline">
            <div id="stepEvent" class="step">📨 Event</div>
            <div class="arrow">➡️</div>
            <div id="stepRules" class="step">⚖️ Regel</div>
            <div class="arrow">➡️</div>
            <div id="stepAction" class="step">🚀 Aktion</div>
        </div>
        <div id="pipeline-text">Bereit für Bestellung…</div>
        <div id="events" class="events"></div>
        <details style="margin-top:10px;">
            <summary>📦 Eingehendes Event (JSON)</summary>
            <pre id="rawEvent" style="background:#f0f0f0;border-radius:6px;padding:10px;overflow-x:auto;"></pre>
        </details>

    </div>
    <div class="panel">
        <h2>⚪ Traditioneller Prozess</h2>
        <div id="traditional" class="events"></div>
    </div>
</div>

<!-- Industrie -->
<div class="info">
    <h3>🏭 Industrie Workflow – Maschinenüberwachung mit KI</h3>
    <p>
        Maschinen senden kontinuierlich Sensor-Events (Temperatur, Vibration).
        Unser System prüft Grenzwerte und analysiert zusätzlich mit einer KI,
        ob ein ungewöhnliches Muster vorliegt.
    </p>
    <ul>
        <li><b>Wenn Temperatur &gt; 80 °C oder Vibration &gt; 7 g</b> → Alarm & Wartung sofort.</li>
        <li><b>Wenn KI eine Anomalie erkennt</b> → vorbeugende Wartung empfohlen.</li>
        <li><b>Wenn alles normal</b> → Maschine läuft stabil.</li>
    </ul>
</div>
<button id="triggerMachineBtn">🏭 Maschinenstatus senden</button>
<div class="container">
    <div class="panel">
        <h2>🔴 Event-Driven (Live)</h2>
        <div class="pipeline">
            <div id="mEvent" class="step">📡 Sensor</div>
            <div class="arrow">➡️</div>
            <div id="mRules" class="step">⚖️ Regel</div>
            <div class="arrow">➡️</div>
            <div id="mAI" class="step">🧠 KI</div>
            <div class="arrow">➡️</div>
            <div id="mAction" class="step">🛠️ Aktion</div>
        </div>
        <div id="machine-text">Bereit für Sensor-Event…</div>
        <div id="machineEvents" class="events"></div>
        <details style="margin-top:10px;">
            <summary>📦 Eingehendes Event (JSON)</summary>
            <pre id="rawMachineEvent" style="background:#f0f0f0;border-radius:6px;padding:10px;overflow-x:auto;"></pre>
        </details>

    </div>
    <div class="panel">
        <h2>⚪ Traditioneller Prozess</h2>
        <div id="machineTraditional" class="events"></div>
    </div>
</div>

<footer>© 2025 Event-Driven Demo – Business & Predictive Maintenance</footer>
<script src="script.js"></script>
</body>
</html>
